{% extends "base.html" %}
{% block title %}Skill Test | Career Roadmap AI{% endblock %}
{% block body_class %}skill-test-page{% endblock %}
{% block page_styles %}
<link href="/static/css/skill_test.css" rel="stylesheet">
{% endblock %}
{% block content %}
<section class="page-card p-4 p-md-5">
    <h2 class="h4 mb-2">Skill Test</h2>
    <p class="text-muted mb-4">
        Attempt {{ assessment.attempt_no }} | Pass threshold: 70%
    </p>

    <form method="post" action="/students/{{ student.id }}/skills/tests/{{ assessment.id }}/submit">
        {% for q in assessment.questions %}
            {% set q_idx = loop.index0 %}
            <div class="mb-4">
                <p class="fw-semibold mb-2">{{ loop.index }}. {{ q.question }}</p>
                {% for option in q.options %}
                    <div class="form-check">
                        <input
                            class="form-check-input"
                            type="radio"
                            name="answer_{{ q_idx }}"
                            id="q{{ q_idx }}_{{ loop.index0 }}"
                            value="{{ loop.index0 }}"
                            required
                        >
                        <label class="form-check-label" for="q{{ q_idx }}_{{ loop.index0 }}">
                            {{ option }}
                        </label>
                    </div>
                {% endfor %}
            </div>
            <hr>
        {% endfor %}
        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary">Submit Test</button>
            <a href="/students/{{ student.id }}/dashboard" class="btn btn-outline-secondary">Back to Dashboard</a>
        </div>
    </form>
</section>
{% endblock %}
